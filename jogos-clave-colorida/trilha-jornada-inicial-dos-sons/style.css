:root {
    --font-title: 'Baloo 2', cursive;
    --font-text: 'Poppins', sans-serif;
    --color-main: #38b6ff;
    --color-success: #10ad54;
    --color-neutral: #f0f0f0;
}
body {
    font-family: var(--font-text);
    margin: 0;
    background-image: url('imagens/fundo_colorido.png');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    /* Layout do jogo original, que funciona para impressão */
    overflow: hidden;
}
.screen {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    padding: 20px;
}
.hidden { display: none !important; }
.map-container { background: rgba(255, 255, 255, 0.95); padding: 30px 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
.map-logo { width: 120px; margin-bottom: 10px; }
h1 { font-family: var(--font-title); font-size: 2.5em; margin: 0; }
h2 { font-family: var(--font-title); font-size: 1.8em; }
.trail-path { display: flex; gap: 30px; margin: 25px 0; }
.level-node { width: 75px; height: 75px; background-color: var(--color-main); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: var(--font-title); font-size: 2.5em; cursor: pointer; border: 5px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
.level-node[data-level="final"] { background-color: #fec601; }
.level-node.locked { background-color: #bdc3c7; cursor: not-allowed; }
.level-node.completed { background-color: var(--color-success); }
.map-buttons { display: flex; gap: 15px; justify-content: center; }
.game-panel { width: 95%; max-width: 800px; max-height: 600px; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: flex; flex-direction: column; align-items: center; padding: 20px; box-sizing: border-box; position: relative; }
.btn-exit { position: absolute; top: 15px; left: 15px; background: #eee; border: none; border-radius: 10px; padding: 8px 12px; font-size: 0.9em; cursor: pointer; }
.rounds-container { display: flex; gap: 10px; margin-bottom: 15px; }
.round-indicator { width: 20px; height: 20px; background-color: #e0e0e0; border-radius: 50%; }
.round-indicator.active { background-color: #ffda43; }
.game-area { width: 100%; flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: space-around; }
.challenge-area { width: 180px; height: 180px; background: var(--color-neutral); border-radius: 50%; transition: background-color 0.3s; }
.interaction-area { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
.btn-choice { padding: 20px 40px; font-family: var(--font-title); font-size: 1.5em; border-radius: 15px; border: 3px solid #ddd; background-color: white; cursor: pointer; }
.game-mascot { position: absolute; bottom: 20px; right: 20px; width: 90px; }
.modal-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 100; }
.modal-content { background: white; padding: 40px; border-radius: 20px; text-align: center; position: relative; }
.modal-content input { display: block; width: 80%; margin: 15px auto; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; text-align: center; }
.btn-close-modal { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 1.8em; cursor: pointer; color: #888; }
.btn-main { background-color: var(--color-success); color: white; border: none; border-radius: 12px; padding: 15px 30px; font-family: var(--font-title); font-size: 1.2em; cursor: pointer; }
.btn-secondary { background-color: #f0f0f0; border: 2px solid #ddd; border-radius: 10px; padding: 10px 20px; cursor: pointer; font-weight: bold; }
.btn-reset { background: none; border: none; color: #888; text-decoration: underline; cursor: pointer; }
.certificate-container { padding: 20px; box-sizing: border-box; }
#certificate { width: 100%; max-width: 800px; max-height: calc(100vh - 120px); }
.certificate-buttons { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; justify-content: center; }
.footer { position: fixed; bottom: 0; width: 100%; text-align: center; padding: 10px; background: rgba(255,255,255,0.7); font-size: 0.9em; box-sizing: border-box; }

@media (max-width: 768px) {
    body { overflow: auto; }
    .screen { height: auto; min-height: 100vh; padding: 20px 10px; justify-content: flex-start; }
    .map-container, .game-panel { margin-top: 20px; margin-bottom: 20px; }
    .trail-path { flex-direction: column; gap: 20px; }
    .map-buttons { flex-direction: column; gap: 10px; }
    .footer { position: relative; margin-top: 20px; }
}

@media print {
    /* A diretiva @page define as regras para a página impressa */
    @page {
        size: A4 landscape; /* Define o tamanho como A4 e a orientação como paisagem */
        margin: 0;          /* Remove todas as margens da impressão */
    }

    body {
        -webkit-print-color-adjust: exact !important; /* Garante que as cores de fundo (como o gradiente) sejam impressas no Chrome/Safari */
        print-color-adjust: exact !important;         /* Padrão para outros navegadores */
        background: none !important; /* Remove o fundo do corpo da página na impressão */
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Esconde TODOS os elementos que não fazem parte do certificado */
    .screen:not(.certificate-container), 
    .modal-container, 
    .footer, 
    .certificate-buttons {
        display: none !important;
    }
    
    /* Garante que o container do certificado ocupe toda a página de impressão */
    .certificate-container {
        display: block !important; /* Usa block para preencher o espaço */
        position: static;          /* Remove posicionamento absoluto que pode causar problemas */
        width: 100%;
        height: 100%;
        padding: 0 !important;
        margin: 0 !important;
        border: none !important;
        box-shadow: none !important;
    }
    
    /* Ajusta o SVG para preencher perfeitamente o container */
    #certificate {
        width: 100%;
        height: 100%;
        max-width: none;
        max-height: none;
    }
}